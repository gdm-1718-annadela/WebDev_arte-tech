{"ast":null,"code":"import _slicedToArray from \"/Users/annadelanghe/Documents/school/CMSDev/Eindwerk1920/applicatie/arteTech client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/annadelanghe/Documents/school/CMSDev/Eindwerk1920/applicatie/arteTech client/src/views/User.jsx\";\nimport React, { useState, useEffect, Component } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nexport default function User() {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        userPicture = _useState2[0],\n        setUserPicture = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        userDate = _useState4[0],\n        setUserDate = _useState4[1];\n\n  const userId = localStorage.getItem('userId');\n  const token = localStorage.getItem('token');\n\n  function getUserData() {\n    fetch('http://localhost:8888/web/jsonapi/user/user/' + userId + '/?include=user_picture', {\n      method: \"GET\",\n      headers: {\n        'Content-Type': 'application/vnd.api+json',\n        'Accept': 'application/x-www-form-urlencoded',\n        'Authorization': 'Bearer ' + token\n      }\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      console.log(data);\n      setUserPicture(data.included[0].attributes.uri.url);\n      setUserDate(data.data.attributes);\n    });\n  }\n\n  const handlelogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('role');\n    localStorage.removeItem('userId');\n    localStorage.removeItem('clients');\n    window.location.replace(\"/\");\n  };\n\n  useEffect(getUserData, []);\n\n  if (localStorage.getItem('token')) {\n    console.log(userDate);\n    return React.createElement(\"div\", {\n      class: \"body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"boxshadow UserPicture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: 'http://localhost:8888' + userPicture,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    })), React.createElement(\"h1\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Hi \", userDate.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, userDate.mail), React.createElement(\"a\", {\n      className: \"btnOrange\",\n      href: \"/jobs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Opdrachten\"), React.createElement(\"button\", {\n      className: \"btnOrange\",\n      onClick: handlelogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"UitLoggen\"));\n  } else {\n    return React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Not Logged In\");\n  }\n}","map":{"version":3,"sources":["/Users/annadelanghe/Documents/school/CMSDev/Eindwerk1920/applicatie/arteTech client/src/views/User.jsx"],"names":["React","useState","useEffect","Component","BrowserRouter","Router","Switch","Route","Link","User","userPicture","setUserPicture","userDate","setUserDate","userId","localStorage","getItem","token","getUserData","fetch","method","headers","then","response","json","data","console","log","included","attributes","uri","url","handlelogout","removeItem","window","location","replace","name","mail"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,SAArC,QAAsD,OAAtD;AAEA,SACEC,aAAa,IAAIC,MADnB,EAEEC,MAFF,EAGEC,KAHF,EAIEC,IAJF,QAKO,kBALP;AAWA,eAAe,SAASC,IAAT,GAAiB;AAAA,oBACQR,QAAQ,CAAC,EAAD,CADhB;AAAA;AAAA,QACvBS,WADuB;AAAA,QACVC,cADU;;AAAA,qBAEEV,QAAQ,CAAC,EAAD,CAFV;AAAA;AAAA,QAEvBW,QAFuB;AAAA,QAEbC,WAFa;;AAG9B,QAAMC,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAf;AACA,QAAMC,KAAK,GAAGF,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AAEA,WAASE,WAAT,GAAsB;AACpBC,IAAAA,KAAK,CAAC,iDAA+CL,MAA/C,GAAsD,wBAAvD,EAAiF;AACtFM,MAAAA,MAAM,EAAE,KAD8E;AAEtFC,MAAAA,OAAO,EAAE;AACP,wBAAgB,0BADT;AAEP,kBAAU,mCAFH;AAGP,yBAAiB,YAAaJ;AAHvB;AAF6E,KAAjF,CAAL,CAOCK,IAPD,CAOOC,QAAD,IAAc;AACpB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,KATC,EASCF,IATD,CASOG,IAAD,IAAS;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAd,MAAAA,cAAc,CAACc,IAAI,CAACG,QAAL,CAAc,CAAd,EAAiBC,UAAjB,CAA4BC,GAA5B,CAAgCC,GAAjC,CAAd;AACAlB,MAAAA,WAAW,CAACY,IAAI,CAACA,IAAL,CAAUI,UAAX,CAAX;AACD,KAbC;AAcD;;AAED,QAAMG,YAAY,GAAG,MAAM;AACzBjB,IAAAA,YAAY,CAACkB,UAAb,CAAwB,OAAxB;AACAlB,IAAAA,YAAY,CAACkB,UAAb,CAAwB,MAAxB;AACAlB,IAAAA,YAAY,CAACkB,UAAb,CAAwB,QAAxB;AACAlB,IAAAA,YAAY,CAACkB,UAAb,CAAwB,SAAxB;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB;AACD,GAND;;AAQAlC,EAAAA,SAAS,CAACgB,WAAD,EAAa,EAAb,CAAT;;AACA,MAAGH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAH,EAAiC;AAC/BU,IAAAA,OAAO,CAACC,GAAR,CAAYf,QAAZ;AACA,WACE;AAAK,MAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAG,uBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyC;AAAK,MAAA,GAAG,EAAE,0BAAyBF,WAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAzC,CADF,EAEE;AAAI,MAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA0BE,QAAQ,CAACyB,IAAnC,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIzB,QAAQ,CAAC0B,IAAb,CAHF,EAIE;AAAG,MAAA,SAAS,EAAG,WAAf;AAA2B,MAAA,IAAI,EAAC,OAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF,EAKE;AAAS,MAAA,SAAS,EAAG,WAArB;AAAgC,MAAA,OAAO,EAAEN,YAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALF,CADF;AASD,GAXD,MAWO;AACL,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF;AAGD;AACF","sourcesContent":["import React, { useState, useEffect, Component } from 'react';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\n\r\nexport default function User () {\r\n  const [userPicture, setUserPicture] = useState(\"\")\r\n  const [userDate, setUserDate] = useState(\"\")\r\n  const userId = localStorage.getItem('userId')\r\n  const token = localStorage.getItem('token')\r\n  \r\n  function getUserData(){\r\n    fetch('http://localhost:8888/web/jsonapi/user/user/'+userId+'/?include=user_picture', {\r\n    method: \"GET\",\r\n    headers: {\r\n      'Content-Type': 'application/vnd.api+json',\r\n      'Accept': 'application/x-www-form-urlencoded',\r\n      'Authorization': 'Bearer ' +  token\r\n    },\r\n  }).then((response) => {\r\n    return response.json();\r\n  }).then((data)=> {\r\n    console.log(data)\r\n    setUserPicture(data.included[0].attributes.uri.url)\r\n    setUserDate(data.data.attributes)\r\n  })\r\n  }\r\n\r\n  const handlelogout = () => {\r\n    localStorage.removeItem('token')\r\n    localStorage.removeItem('role')\r\n    localStorage.removeItem('userId')\r\n    localStorage.removeItem('clients')\r\n    window.location.replace(\"/\")\r\n  }\r\n\r\n  useEffect(getUserData,[])\r\n  if(localStorage.getItem('token')){\r\n    console.log(userDate)\r\n    return(\r\n      <div class=\"body\">\r\n        <div className = \"boxshadow UserPicture\"><img src={'http://localhost:8888'+ userPicture}/></div>\r\n        <h1 className=\"title\">Hi {userDate.name}</h1>\r\n        <p>{userDate.mail}</p>\r\n        <a className = \"btnOrange\" href=\"/jobs\">Opdrachten</a>\r\n        <button  className = \"btnOrange\"onClick={handlelogout}>UitLoggen</button>\r\n      </div>\r\n    )\r\n  } else {\r\n    return(\r\n      <h2>Not Logged In</h2>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}