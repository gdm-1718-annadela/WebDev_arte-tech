{"ast":null,"code":"import _slicedToArray from \"/Users/annadelanghe/Documents/school/CMSDev/Eindwerk1920/applicatie/arteTech app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/annadelanghe/Documents/school/CMSDev/Eindwerk1920/applicatie/arteTech app/src/views/User.jsx\";\nimport React, { useState, useEffect, Component } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport './../css/user.css';\nimport './../css/general.css';\nexport default function User() {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        userPicture = _useState2[0],\n        setUserPicture = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        userDate = _useState4[0],\n        setUserDate = _useState4[1];\n\n  const userId = localStorage.getItem('userId');\n  const token = localStorage.getItem('token');\n\n  function getUserData() {\n    fetch('http://localhost:8888/web/jsonapi/user/user/' + userId + '/?include=user_picture', {\n      method: \"GET\",\n      headers: {\n        'Content-Type': 'application/vnd.api+json',\n        'Accept': 'application/x-www-form-urlencoded',\n        'Authorization': 'Bearer ' + token\n      }\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      console.log(data);\n      setUserPicture(data.included[0].attributes.uri.url);\n      setUserDate(data.data.attributes);\n    });\n  }\n\n  useEffect(getUserData, []);\n\n  if (localStorage.getItem('token')) {\n    console.log(userDate);\n    return React.createElement(\"div\", {\n      class: \"userBody\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"UserPicture\",\n      src: 'http://localhost:8888' + userPicture,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Hi \", userDate.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, userDate.mail), React.createElement(\"a\", {\n      href: \"/jobs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Opdrachten\"));\n  } else {\n    return React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Not Logged In\");\n  }\n}","map":{"version":3,"sources":["/Users/annadelanghe/Documents/school/CMSDev/Eindwerk1920/applicatie/arteTech app/src/views/User.jsx"],"names":["React","useState","useEffect","Component","BrowserRouter","Router","Switch","Route","Link","User","userPicture","setUserPicture","userDate","setUserDate","userId","localStorage","getItem","token","getUserData","fetch","method","headers","then","response","json","data","console","log","included","attributes","uri","url","name","mail"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,SAArC,QAAsD,OAAtD;AAEA,SACEC,aAAa,IAAIC,MADnB,EAEEC,MAFF,EAGEC,KAHF,EAIEC,IAJF,QAKO,kBALP;AAOA,OAAO,mBAAP;AACA,OAAO,sBAAP;AAIA,eAAe,SAASC,IAAT,GAAiB;AAAA,oBACQR,QAAQ,CAAC,EAAD,CADhB;AAAA;AAAA,QACvBS,WADuB;AAAA,QACVC,cADU;;AAAA,qBAEEV,QAAQ,CAAC,EAAD,CAFV;AAAA;AAAA,QAEvBW,QAFuB;AAAA,QAEbC,WAFa;;AAG9B,QAAMC,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAf;AACA,QAAMC,KAAK,GAAGF,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AAEA,WAASE,WAAT,GAAsB;AACpBC,IAAAA,KAAK,CAAC,iDAA+CL,MAA/C,GAAsD,wBAAvD,EAAiF;AACtFM,MAAAA,MAAM,EAAE,KAD8E;AAEtFC,MAAAA,OAAO,EAAE;AACP,wBAAgB,0BADT;AAEP,kBAAU,mCAFH;AAGP,yBAAiB,YAAaJ;AAHvB;AAF6E,KAAjF,CAAL,CAOCK,IAPD,CAOOC,QAAD,IAAc;AACpB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,KATC,EASCF,IATD,CASOG,IAAD,IAAS;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAd,MAAAA,cAAc,CAACc,IAAI,CAACG,QAAL,CAAc,CAAd,EAAiBC,UAAjB,CAA4BC,GAA5B,CAAgCC,GAAjC,CAAd;AACAlB,MAAAA,WAAW,CAACY,IAAI,CAACA,IAAL,CAAUI,UAAX,CAAX;AACD,KAbC;AAcD;;AAED3B,EAAAA,SAAS,CAACgB,WAAD,EAAa,EAAb,CAAT;;AACA,MAAGH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAH,EAAiC;AAC/BU,IAAAA,OAAO,CAACC,GAAR,CAAYf,QAAZ;AACA,WACE;AAAK,MAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAA6B,MAAA,GAAG,EAAE,0BAAyBF,WAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAQE,QAAQ,CAACoB,IAAjB,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIpB,QAAQ,CAACqB,IAAb,CAHF,EAIE;AAAG,MAAA,IAAI,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF,CADF;AAQD,GAVD,MAUO;AACL,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF;AAGD;AACF","sourcesContent":["import React, { useState, useEffect, Component } from 'react';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\n\r\nimport './../css/user.css';\r\nimport './../css/general.css';\r\n\r\n\r\n\r\nexport default function User () {\r\n  const [userPicture, setUserPicture] = useState(\"\")\r\n  const [userDate, setUserDate] = useState(\"\")\r\n  const userId = localStorage.getItem('userId')\r\n  const token = localStorage.getItem('token')\r\n  \r\n  function getUserData(){\r\n    fetch('http://localhost:8888/web/jsonapi/user/user/'+userId+'/?include=user_picture', {\r\n    method: \"GET\",\r\n    headers: {\r\n      'Content-Type': 'application/vnd.api+json',\r\n      'Accept': 'application/x-www-form-urlencoded',\r\n      'Authorization': 'Bearer ' +  token\r\n    },\r\n  }).then((response) => {\r\n    return response.json();\r\n  }).then((data)=> {\r\n    console.log(data)\r\n    setUserPicture(data.included[0].attributes.uri.url)\r\n    setUserDate(data.data.attributes)\r\n  })\r\n  }\r\n\r\n  useEffect(getUserData,[])\r\n  if(localStorage.getItem('token')){\r\n    console.log(userDate)\r\n    return(\r\n      <div class=\"userBody\">\r\n        <img className=\"UserPicture\" src={'http://localhost:8888'+ userPicture}/>\r\n        <h1>Hi {userDate.name}</h1>\r\n        <p>{userDate.mail}</p>\r\n        <a href=\"/jobs\">Opdrachten</a>\r\n      </div>\r\n    )\r\n  } else {\r\n    return(\r\n      <h2>Not Logged In</h2>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}